<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>task1</title>
    <style>
        #form{
            padding-bottom: 20px;

        }
        .border{
            width: 28px;
            height: 28px;
            border: 1px solid black;
            background-color: white;
        }
        .btn{
            margin: 10px;
            height: 34px;
            width: 100px;
        }
    </style>
</head>
<body>

<form id="form">
    <input type="text" name="col" placeholder="суда калонкы">
    <input type="text" name="row" placeholder="суда радки">
    <button onclick="createTable(); return false">ТЫК</button>
</form>
<div id="table"></div>
<script>
    let form =document.getElementById('form');
    let div = document.getElementById('table');

    function createTable() {
        div.innerHTML = '';
        let table = document.createElement('table');
        div.appendChild(table);
        let col = Number(form.col.value);
        let row = Number(form.row.value);

        for(let i = 0; i < col; i++){
            let tr = document.createElement('tr');
            table.appendChild(tr);
            for(let j = 0; j < row; j++){
                let td = document.createElement('td');
                td.className = 'border';
                tr.appendChild(td)
            }
        }

        let btn = document.createElement('button');
        btn.innerText = 'Swap';
        btn.className = 'btn';
        btn.onclick = function () {
            let tablChild = table.childNodes;
            [].forEach.call(tablChild, function (cur) {
                cur = cur.childNodes;
                [].forEach.call(cur, function (cur) {
                    cur.style.background = (cur.style.background === 'black') ? 'white' : 'black';
                })
            })

        }
        div.appendChild(btn);
    }
    table.onclick = function(e) {
        if(e.target.tagName !== 'TD') return;
        e.target.style.background = (e.target.style.background === 'black') ? 'white' : 'black';
    };


</script>

</body>
</html>